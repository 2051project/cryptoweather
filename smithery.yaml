# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml
startCommand:
  type: stdio
  configSchema:
    type: object
    properties:
      debug:
        type: boolean
        description: "Enable debug mode for detailed logging"
        default: false
  commandFunction: |
    (config) => {
      const path = require('path');
      const fs = require('fs');
      
      // Get the directory where this package is installed
      const packageDir = __dirname;
      const mainPyPath = path.join(packageDir, 'main.py');
      
      // Check if main.py exists
      if (!fs.existsSync(mainPyPath)) {
        throw new Error(`main.py not found at ${mainPyPath}`);
      }
      
      return {
        command: 'python3',
        args: [mainPyPath].concat(config.debug ? ['--debug'] : []),
        cwd: packageDir,
        env: {
          CRYPTOWEATHER_API_URL: "https://cryptoweather.xyz/signal_btc",
          PYTHONPATH: packageDir
        }
      };
    }
  exampleConfig:
    debug: false